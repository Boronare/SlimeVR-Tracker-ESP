나래트래커 (NareTracker-V1)
==========================

# 준비 사항
- PC가 Wi-Fi 라우터(공유기)(Wi-Fi 4, 802.11N)와 같은 네트워크상에 존재해야 함. 혹은, PC가 직접 Wi-Fi를 사용할 수 있어야 함.
  - 퀘스트 사용자의 경우 에어링크를 사용하고 계시다면 Wi-Fi와 같은 환경에 있다고 생각하시면 됩니다.
- PC에 SteamVR이 설치되어 있고, SteamVR상에서 헤드셋으로 인식하는 VR기기가 있어야 함.
- 안드로이드 혹은 iOS가 탑재된 Wi-Fi를 사용가능한 기기(스마트폰)가 있어야 함. 혹은 PC가 직접 Wi-Fi를 사용할 수 있어야 함.
  - PC가 라우터와 연결되어있지 않은 경우 핫스팟 기능을 이용하면 됩니다.
  
  ## 자기장 환경 확인하기
- 휴대폰에서 적당한 나침반 어플을 다운로드, 혹은 물리적인 나침반을 사용해서 방 안 플레이구역 곳곳이 항상 북쪽을 가리키는지 확인합니다.


# 기초 세팅
## SlimeVR Server 설치
- [SlimeVR Server](https://github.com/SlimeVR/SlimeVR-Server/releases)를 다운받아 설치합니다. 초보 사용자는 [Windows web installer](https://github.com/SlimeVR/SlimeVR-Installer/releases/latest/download/slimevr_web_installer.exe)를 이용하는 것이 좋습니다.
처음 실행했을 때 설정 마법사의 우측 하단에 언어 설정이 있으니, 영어가 불편하신 분들은 한국어로 설정하실 수 있습니다.
## 기기에 Wi-Fi 정보 입력 (PC)
- PC가 직접 Wi-Fi를 사용할 수 있어야 합니다. 그렇지 않은 경우 아래 모바일로 다시 시도해주세요.
- SlimeVR Server를 실행합니다.
- Lets get setup을 누릅니다.
- 모든 기기의 전원을 켭니다.
- SSID는 Wi-Fi의 이름, Password는 Wi-Fi의 비밀번호입니다.
- Submit! 버튼을 누릅니다.
- 기기가 잘 연결되었는지 확인하고, 할당되지 않았다면 기기의 전원을 내렸다 다시 올려봅니다.
## 기기에 Wi-Fi 정보 입력 (모바일)
- 안드로이드 혹은 iOS에서 ESP smartconfig을 검색하여 다운받습니다.
- ESP smartconfig을 실행합니다. 2.4Ghz Wi-Fi 4 (5Ghz가 아닌) 네트워크에 연결합니다.
- 기기의 전원을 켭니다.
- password란에 Wi-Fi 네트워크의 비밀번호를 입력합니다.
- Confirm을 누릅니다.
- SlimeVR Server의 Lets get setup에서 wifi settings란이 뜨면 Skip wifi settings를 누르거나 SSID란에 아무거나 입력하고 Submit!버튼을 누릅니다.
- 기기가 잘 연결되었는지 확인하고, 할당되지 않았다면 기기의 전원을 내렸다 다시 올려봅니다.
## SlimeVR Server에 기기 정보 맵핑
- 트래커를 할당할 부위를 클릭하고, 기기를 흔들어봅니다. 반짝이는 이름을 클릭합니다.
# 실행 시
## 센서 캘리브레이션
- 전원을 올린 후에 가만히 놔두면 자이로 캘리브레이션이 완료됩니다. 자이로 캘리브레이션이 완료되면 본체의 파란불이 들어옵니다.
- 본체에 파란불이 깜빡이지 않고 계속 들어오면 기기를 들고 흔들어서 여러 방향을 바라볼 수 있게 해주세요. 가장 표준적인 방법은 8자로 흔들어주는 겁니다. 캘리브레이션이 완료되면 파란불이 꺼집니다.
- 매번 캘리브레이션을 할 필요는 없고 아래 문제 증상이 보이면 캘리브레이션을 시도해주세요.
## 몸에 장착하기
- 메인 모듈은 RJ45포트가 아래를 바라보게, 보조 모듈은 위를 바라보게 설정합니다.
- 스트랩을 장착합니다. 30cm스트랩은 종아리에, 45cm스트랩은 허벅지에, 80cm스트랩은 허리와 가슴 용입니다.
- 스트랩의 벨크로 부분을 본체의 스트랩 구멍에 넣어 길이를 조절합니다.
- 반대쪽 고리 부분을 본체의 후크에 걸어줍니다.
## SteamVR에서 가상 트래커의 캘리브레이션
- SteamVR이 실행되었으면 VR을 쓴 채로 SteamVR의 메뉴를 통해 PC화면을 보며 차렷 자세로 서서 SlimeVR의 Reset버튼을 누릅니다.
- 위치가 재설정되었으면 앞으로 숙인 기마자세로 Reset Mounting 버튼을 누릅니다.
## VRChat에서 아바타와의 캘리브레이션
- VRChat을 실행하신 뒤, 손에 달려있는 퀵 메뉴의 앉기/서기 버튼이 Calibrate FBT로 변경되어 있는 것을 볼 수 있습니다. 그 버튼을 누릅니다.
- 위치가 적절히 맞춰졌다면 양손의 트리거를 동시에 당겨서 캘리브레이션을 완료합니다.


# 기기 LED설명
- 파란색 : 작동 상태에 대해 소프트웨어적으로 조작됨.
- 빨간색 : 전원이 켜짐
- 초록색 : 충전 중

# 문제 해결
## 2.4Ghz에 연결했는데, 연결되지 않을 경우
- Wi-Fi 6 (802.11ax) 라우터의 경우 2.4Ghz대역에서도 Wi-Fi 6 모드로 작동하기 때문에, 라우터의 설정을 통해 802.11n모드를 활성화해야 합니다. 혹은 기기의 전원을 내렸다 다시 올려보시기 바랍니다.
## 다리/허리가 옆으로 올라가요
- 마운팅 설정이 잘못되었습니다. SlimeVR Server의 홈 메뉴 우측에서 차렷 자세로 Reset / 기마 자세로 Reset Mounting을 순서대로 다시 시도해보세요.
## 다리를 올리고 나니/허리를 숙이고 나니 천천히 옆으로 돌아요
- 센서 캘리브레이션이 잘못되었습니다. 기기를 껐다 켠 다음 다시 캘리브레이션을 시도해보세요.